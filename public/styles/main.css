:root{
  --bg:#faf8f3; --card:#fff; --ink:#222; --muted:#6b7280;
  --accent:#b45309; --accent-2:#f59e0b; --ring: rgba(245,158,11,.35);
  --radius:16px; --shadow:0 6px 24px rgba(0,0,0,.06);
  --maxw: 980px;
}

/* Fluid type scale */
html { font-size: clamp(14px, 1.1vw + 10px, 18px); }
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Noto Sans Thai', 'Noto Sans', Arial, sans-serif;
  line-height:1.55}

/* Layout */
.container{max-width:var(--maxw); margin:0 auto; padding: 0 16px;}
.hero{padding:28px 0; text-align:center}
.hero__image{
  width:140px; height:140px; border-radius:999px; margin:0 auto 12px;
  box-shadow: 0 8px 30px rgba(0,0,0,.08);
  position: relative;
}
@media (max-width: 860px){
  .hero__image{ width:120px; height:120px; }
}
.hero__image::after{
  content:""; position:absolute; inset:0; border-radius:inherit;
  background: radial-gradient(ellipse at 30% 15%, rgba(255,255,255,.35), transparent 60%);
}

.title{margin:0; font-weight:800; letter-spacing:.2px}
.subtitle{margin:6px 0 0; color:var(--muted)}

.content{padding: 10px 0 24px}
.card{background:var(--card);border-radius:var(--radius);padding:9px 12px; box-shadow:var(--shadow); margin:14px 0}
.row{display:flex; flex-direction:column; gap:6px; margin:10px 0}
input[type="text"]{padding:12px 14px;border-radius:12px;border:1px solid #e5e7eb; outline:none; width:100%}
input[type="text"]:focus{border-color:var(--accent-2); box-shadow:0 0 0 4px var(--ring)}
/* กัน iOS ซูมตอนโฟกัส */
input[type="text"], input, select, textarea {font-size: 16px; -webkit-text-size-adjust: 100%;}

.btn{appearance:none; border:none; padding:12px 16px; border-radius:12px; cursor:pointer; font-weight:700}
.btn-primary{background:linear-gradient(180deg, var(--accent-2), var(--accent)); color:#fff; width:100%}
.btn-secondary{background:#f3f4f6}
.btn-outline{background:transparent; border:1px solid #d1d5db}

.result-card{display:grid; grid-template-columns: 260px 1fr; gap:16px; align-items:start; margin-top:10px}
.result-image-wrap{width:100%; aspect-ratio:1/1; overflow:hidden; border-radius:14px; background:#ffffff}
.result-image-wrap img{width:100%; height:100%; object-fit:cover}
.result-title{font-weight:800; margin-bottom:2px}
blockquote{margin:10px 0; padding-left:12px; border-left:4px solid #f59e0b}
.muted{color:var(--muted)}
.result-meta{font-size:.9rem; color:var(--muted); margin-top:8px}
.result-actions{display:flex; flex-wrap:wrap; gap:10px; margin-top:10px}
.footer{padding:18px; text-align:center; color:var(--muted); font-size:.95rem}

/* Mobile-first tweaks */
@media (max-width: 860px){
  .result-card{grid-template-columns:1fr}
  .hero__image{width:120px;height:120px}
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  * { animation: none!important; transition: none!important; }
}


.btn-spin:hover{ transform: translateY(-1px); }
.btn-spin:active{ transform: translateY(0); box-shadow:0 0 0 4px var(--ring); }
.btn-spin .btn-title{ font-size:1.08rem; font-weight:800; }
.btn-spin .btn-sub{ color: rgba(255,255,255,.85); }

/* ปุ่ม Leela ให้เด่นขึ้น */
/* ปุ่ม Leela เป็นแถว: [spinner][text] */
.btn-spin{
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 10px;
  position: relative;
  overflow: hidden;

  /* เดิมของคุณ */
  width:100%; margin:8px 0; color:#fff; border:none;
  background: linear-gradient(180deg, var(--accent-2), var(--accent));
  box-shadow: 0 8px 20px rgba(180,83,9,.25);
}

/* ให้ spinner อยู่ "หน้าข้อความ" จริงๆ */
.btn-spin .spinner{
  order: 1;                 /* มาก่อนข้อความ */
  z-index: 1;               /* บนสุด ไม่โดนทับ */
  width: 18px; height: 18px; border-radius: 50%;
  border: 3px solid rgba(255,255,255,.35); border-top-color: #fff;
  opacity: 0; transform: translateY(2px);
}
.btn-spin .btn-text{ order: 2; display:flex; flex-direction:column; }
.btn-spin .btn-title{ font-size:1.08rem; font-weight:800; line-height:1.2; }
.btn-spin .btn-sub{ color: rgba(255,255,255,.85); font-size:.92rem; }

/* เวลา spinning ให้แสดงและหมุน */
.btn-spin.is-spinning .spinner{
  opacity: 1;
  animation: spin var(--spin-speed, .9s) linear infinite;
}
@keyframes spin{ to{ transform: translateY(2px) rotate(360deg); } }


/* ไฮไลต์ปุ่มหลัง Play Again */
.btn-spin.pulse{
  animation: pulse-glow 1.2s ease-in-out 1;
}
@keyframes pulse-glow{
  0%{ box-shadow:0 0 0 0 rgba(245,158,11,.55); }
  70%{ box-shadow:0 0 0 12px rgba(245,158,11,0); }
  100%{ box-shadow:0 0 0 0 rgba(245,158,11,0); }
}

/* ล็อกไม่ให้ select/callout เวลา long-press */
.btn, .btn * {
  user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}

/* ป้องกัน double-tap zoom/gesture แปลก ๆ บน mobile ระหว่างกดค้าง */
#spinButton{
  touch-action: manipulation;   /* ตัด gesture ซูม/แพนส่วนเกิน */
}

/* ปุ่มกดค้างมี feedback */
.btn-spin:active{box-shadow:0 0 0 4px var(--ring);}

.hidden{ display:none !important; }
.cooldown-note{
  background:#fff7ed; border:1px solid #fed7aa; color:#7c2d12;
  border-radius:12px; padding:10px 12px; margin:10px 0;
}
.admin h3{ margin:6px 0 10px }
.admin input[type="number"], .admin input[type="password"]{
  padding:10px 12px; border-radius:10px; border:1px solid #e5e7eb; width:100%;
}

/* ---------- Export (Portrait, A4-like) ---------- */
/* A4 @ 96dpi ≈ 794x1123px — เราจะ fix เฉพาะความกว้าง ให้สูงยืดตามเนื้อหา */
.export-card{
  width: 794px;            /* คงที่เพื่อให้สัดส่วนพิมพ์สวย */
  background:#fff;
  color:#111;
  padding: 32px;
  border-radius: 16px;
  box-shadow: none;        /* ไม่เอาเงาเวลา export */
  margin: 0 auto;
  font-size: 16px;
}
/* .ex-photo-wrap{ width:100%; height:420px; border-radius:12px; overflow:hidden; background:#f3f4f6; } */
.ex-photo-wrap{ width:100%; height:420px; border-radius:12px; overflow:hidden; background:#ffffff; }
.ex-photo-wrap img{ width:100%; height:100%; object-fit:cover; }
.ex-title{ text-align:center; font-weight:800; font-size:22px; margin-top:14px; }
.ex-sub{ text-align:center; font-weight:700; margin-top:6px; }
.ex-quote blockquote{ margin:18px 0; padding-left:12px; border-left:6px solid #f59e0b; line-height:1.6; }
.ex-quote .en{ font-size:16px; }
.ex-quote .th{ color:#374151; }
.ex-meta{ text-align:center; font-size:12px; color:#6b7280; margin-top:10px; }
.ex-footer{ text-align:center; font-size:11px; color:#9ca3af; margin-top:10px; }

/* ---------- Print styles (ถ้าผู้ใช้สั่งพิมพ์) ---------- */
@page { size: A4 portrait; margin: 12mm; }
@media print{
  body{ background:#fff; }
  .hero, .footer, .content .card{ display:none !important; }
  #exportCard{ display:block !important; margin:0 auto; }
}

/* ---------- เพิ่มระยะขอบของการ์ดบนมือถือ (หน้าจอดู) ---------- */
.result-card{
  background:#fff;          /* สำคัญมาก */
  padding:8px;
  border-radius:16px;
}
@media (max-width: 860px){
  .content{ padding: 8px 0 24px; }
  .card{ margin: 0px 0px; }
}

/* ป้องกันอาการความสูง 0 เวลาเซฟ */
.export-card {
  min-height: 420px;
}

/* ยังไม่มีผลลัพธ์ → ซ่อนการ์ดผลลัพธ์ทั้งหมด */
#play-area:not(.has-result) #resultCard{
  display: none !important;
}

/* กันกระพริบระหว่าง transition */
#resultCard{ will-change: opacity, transform; }

/* ซ่อนไว้ตามปกติ */
.export-only { display: none; }

/* ตอนเซฟ เราจะใส่คลาสให้ body เพื่อโชว์พวก export-only */
body.exporting .export-only { display: block; }

.card-title{
  text-align: center;
  font-weight: 800;
  font-size: 20px;
  letter-spacing: .2px;
  margin: 4px 0 10px;
}


/* กรอบรูป (ถ้ามีคลาสอื่นใช้กับรูป ให้ใส่ซ้ำด้วย) */
.result-photo{
  display:flex;
  align-items:center;
  justify-content:center;
  background:#f2f4f7;         /* สีรองเวลารูปเป็น contain */
  border-radius:18px;
  padding:8px;
}

/* รูปท่านศรีมาตาจี: ไม่ครอป, รักษาอัตราส่วนเดิม */
#resultImage{
  display:block;
  width:100%;
  height:100%; /* auto !important;        สำคัญ: ยกเลิกความสูงตายตัว */
  object-fit: contain !important;
  border-radius:14px;
}

/* ลิมิตความสูง เพื่อไม่ให้รูปยาวเกินไป */
@media (max-width: 640px){
  #resultImage{ max-height: 60vh; }
}
@media (min-width: 641px){
  #resultImage{ max-height: 420px; } /* ปรับตามดีไซน์คอลัมน์ขวา */
}

/* ถ้าคอลัมน์ใช้ grid/สองคอลัมน์ ให้รูปไม่ยืดตามความสูงของคอลัมน์ */
.result-photo{ align-self: start; }
